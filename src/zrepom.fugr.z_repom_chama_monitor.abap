FUNCTION Z_REPOM_CHAMA_MONITOR.
*"----------------------------------------------------------------------
*"*"Interface local:
*"  IMPORTING
*"     REFERENCE(I_FILTROS) TYPE  ZDE_ZLEST0123_FILTRO
*"     REFERENCE(I_INDIVIDUAL) TYPE  CHAR01 DEFAULT ' '
*"----------------------------------------------------------------------

  DATA: OBJ_VIAGEM  TYPE REF TO ZCL_REPOM_VIAGEM_VPR,
        E_REGISTROS TYPE ZDE_ZLEST0123_ALV_T,
        F_BUKRS     TYPE ZDE_BUKRS_R.

  CLEAR: LC_FILTROS, CK_INDIVIDUAL.

  LC_FILTROS = I_FILTROS.

  CK_INDIVIDUAL = I_INDIVIDUAL.
  CK_PERMISSAO  = ABAP_TRUE.

  CREATE OBJECT OBJ_VIAGEM.

  IF OBJ_VIAGEM->PESQUISAR( EXPORTING I_FILTROS = I_FILTROS IMPORTING E_REGISTROS = E_REGISTROS ) EQ ABAP_TRUE.
    CLEAR: OBJ_VIAGEM.
    MOVE E_REGISTROS[] TO IT_ZLEST0123_ALV[].
    READ TABLE IT_ZLEST0123_ALV INDEX 1.
    IF LC_FILTROS-BUKRS IS INITIAL.
      F_BUKRS-SIGN   = 'I'.
      F_BUKRS-OPTION = 'EQ'.
      F_BUKRS-LOW    = IT_ZLEST0123_ALV-BUKRS.
      F_BUKRS-HIGH   = IT_ZLEST0123_ALV-BUKRS.
      APPEND F_BUKRS TO LC_FILTROS-BUKRS.
    ENDIF.
    CALL SCREEN 0003.
  ELSE.
    CLEAR: OBJ_VIAGEM.
    IF I_INDIVIDUAL IS NOT INITIAL.
      MESSAGE S041(ZREPOM) DISPLAY LIKE 'E'.
    ELSE.
      CALL SCREEN 0003.
    ENDIF.
  ENDIF.

ENDFUNCTION.
