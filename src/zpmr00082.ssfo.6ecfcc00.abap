BREAK ABAP.

CLEAR: ORDEM, ORDEM1, ORDEM2, ORDEM3.
W_EQUNR = WA_SAIDA_C-EQUNR.
W_WARPL = WA_SAIDA_C-WARPL.

IF TORDEM IS NOT INITIAL.
  LOOP AT T_ZPMR0008I INTO DATA(WA) WHERE WARPL EQ WA_SAIDA_C-WARPL.
    WA-AUFNR = |{ WA-AUFNR ALPHA = OUT }|.
    CONDENSE WA-AUFNR NO-GAPS.

    IF ORDEM IS INITIAL.
      ORDEM = |{ WA-AUFNR }-{ WA-PLTXT }|.
    ELSE.
      IF STRLEN( ORDEM ) < 200.
        ORDEM = |{ ORDEM }, { WA-AUFNR }-{ WA-PLTXT }|.
      ELSE.
        IF STRLEN( ORDEM1 ) < 200.
          ORDEM1 = |{ ORDEM1 }, { WA-AUFNR }-{ WA-PLTXT }|.
        ELSE.
          IF STRLEN( ORDEM2 ) < 200.
            ORDEM2 = |{ ORDEM2 }, { WA-AUFNR }-{ WA-PLTXT }|.
          ELSE.
            ORDEM3 = |{ ORDEM3 }, { WA-AUFNR }-{ WA-PLTXT }|.
          ENDIF.
        ENDIF.
      ENDIF.
    ENDIF.
  ENDLOOP.
ENDIF.
