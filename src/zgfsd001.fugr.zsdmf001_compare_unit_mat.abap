FUNCTION ZSDMF001_COMPARE_UNIT_MAT.
*"----------------------------------------------------------------------
*"*"Interface local:
*"  IMPORTING
*"     REFERENCE(I_MATNR_01) TYPE  MATNR
*"     REFERENCE(I_MENGE_01) TYPE  DZMENG
*"     REFERENCE(I_MATNR_02) TYPE  MATNR
*"     REFERENCE(I_MENGE_02) TYPE  DZMENG
*"  EXPORTING
*"     REFERENCE(E_EQUAL) TYPE  C
*"----------------------------------------------------------------------

  CLEAR: E_EQUAL.

  CHECK ( I_MATNR_01 IS NOT INITIAL ) AND
        ( I_MENGE_01 IS NOT INITIAL ) AND
        ( I_MATNR_02 IS NOT INITIAL ) AND
        ( I_MENGE_02 IS NOT INITIAL ).

  SELECT SINGLE *
    FROM MARA INTO @DATA(WL_MARA_01)
   WHERE MATNR = @I_MATNR_01.

  CHECK SY-SUBRC = 0.

  SELECT SINGLE *
    FROM MARA INTO @DATA(WL_MARA_02)
   WHERE MATNR = @I_MATNR_02.

  CHECK SY-SUBRC = 0.

  DATA(CONV_MENGE_01) = CONV DZMENG( WL_MARA_01-BRGEW * I_MENGE_01 ).
  DATA(CONV_MENGE_02) = CONV DZMENG( WL_MARA_02-BRGEW * I_MENGE_02 ) .

  IF ABS( CONV_MENGE_01 ) = ABS( CONV_MENGE_02 ).
    E_EQUAL = ABAP_TRUE.
  ENDIF.

ENDFUNCTION.
