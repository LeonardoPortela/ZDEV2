FUNCTION Z_REPOM_CADASTRO_ROTA.
*"----------------------------------------------------------------------
*"*"Interface local:
*"  IMPORTING
*"     REFERENCE(I_CONSULTA) TYPE  CHAR01
*"     REFERENCE(I_ID_ROTA) TYPE  ZDE_ID_ROTA_CLIENTE OPTIONAL
*"  EXPORTING
*"     REFERENCE(I_GRAVOU) TYPE  CHAR01
*"  CHANGING
*"     VALUE(I_OB_ROTA) TYPE REF TO  ZCL_REPOM_ROTA OPTIONAL
*"----------------------------------------------------------------------

  IF I_OB_ROTA IS NOT INITIAL.
    OBJ_ROTA = I_OB_ROTA.
  ELSE.
    CREATE OBJECT OBJ_ROTA
      EXPORTING
        I_ID_ROTA = I_ID_ROTA.
  ENDIF.

  CK_CONSULTA     = I_CONSULTA.
  CK_GRAVADO      = ABAP_FALSE.
  CK_ALTEROU_0100 = ABAP_TRUE.

  PERFORM CADASTRO_ROTA.

  IF CK_GRAVADO EQ ABAP_TRUE OR I_CONSULTA IS NOT INITIAL.
    I_OB_ROTA = OBJ_ROTA.
  ENDIF.

  CLEAR: OBJ_ROTA.

  I_GRAVOU = CK_GRAVADO.

ENDFUNCTION.
