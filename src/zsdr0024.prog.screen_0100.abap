
PROCESS BEFORE OUTPUT.
  MODULE GET_LINES_OF_TC.
  LOOP AT TG_ITENS
    WITH CONTROL TC_ITENS CURSOR TC_ITENS-CURRENT_LINE.
    MODULE MODIFY_TC.
  ENDLOOP.

  MODULE STATUS_0100.
  MODULE MODIFY_SCREEN.

*
PROCESS AFTER INPUT.
  LOOP AT TG_ITENS.
    FIELD TG_ITENS-MARK MODULE TC_MARK ON REQUEST.
    CHAIN.
    FIELD TG_ITENS-C_DECIMAIS.
    FIELD TG_ITENS-VLR_FIXO.
    MODULE INPUT_MASK_ITEM ON CHAIN-REQUEST.
    ENDCHAIN.
    CHAIN.
      FIELD TG_ITENS-FIELD.
      FIELD TG_ITENS-PRECO.
      FIELD TG_ITENS-TIPO_CALC.
      FIELD TG_ITENS-C_DECIMAIS.
      FIELD TG_ITENS-VLR_FIXO.
      MODULE INSERT_ITEM ON CHAIN-INPUT.
    ENDCHAIN.
  ENDLOOP.

*  FIELD WG_HEADER-C_DECIMAIS MODULE INPUT_MASK ON REQUEST.
*  FIELD WG_HEADER-VLR_FIXO MODULE INPUT_MASK ON REQUEST.

  MODULE USER_COMMAND_0100.
